# 使用注意事项

<cite>
**本文档引用的文件**  
- [README.md](file://README.md)
- [config.py](file://config.py)
- [bilibili_cover_crawler.py](file://bilibili_cover_crawler.py)
- [bilibili_cover_crawler_playwright.py](file://bilibili_cover_crawler_playwright.py)
- [EMERGENCY_GUIDE.md](file://EMERGENCY_GUIDE.md)
- [check_ffmpeg.py](file://check_ffmpeg.py)
</cite>

## 目录

1. [遵守平台协议](#遵守平台协议)  
2. [合理设置请求频率](#合理设置请求频率)  
3. [存储管理建议](#存储管理建议)  
4. [高并发与网络不稳定应对](#高并发与网络不稳定应对)  
5. [数据备份与日志检查](#数据备份与日志检查)  
6. [隐私与法律责任](#隐私与法律责任)

## 遵守平台协议

本项目旨在为用户提供哔哩哔哩内容的个人备份与研究支持，**严禁用于大规模商业爬取或侵犯UP主版权的行为**。用户应严格遵守哔哩哔哩平台的使用协议和相关法律法规，仅将本工具用于非商业性质的个人学习、研究或存档目的。

请尊重内容创作者的劳动成果，不得将下载内容用于传播、盈利或其他可能损害UP主权益的用途。项目维护者不承担因用户不当使用而导致的任何法律后果。

**Section sources**  
- [README.md](file://README.md#L1-L553)  
- [EMERGENCY_GUIDE.md](file://EMERGENCY_GUIDE.md#L1-L143)

## 合理设置请求频率

为避免因请求频率过高导致IP被封禁，程序已内置智能反爬机制，包括随机延迟、请求头轮换和会话更新。用户不应擅自修改配置以绕过这些保护措施。

在 `config.py` 中，相关参数已设置为安全值：
- `REQUEST_DELAY_MIN` / `REQUEST_DELAY_MAX`：API请求间隔（默认3-8秒）
- `DOWNLOAD_DELAY_MIN` / `DOWNLOAD_DELAY_MAX`：下载间隔（默认2-5秒）
- `MAX_CONSECUTIVE_REQUESTS`：连续请求最大次数（默认30次）
- `LONG_BREAK_DURATION`：长时间休息持续时间（默认15秒）

若遇到访问受限，请参考《紧急故障排除指南》中的建议：等待30-60分钟、更换网络环境（如使用手机热点）、选择非高峰时段（如深夜或清晨）再试。

**Section sources**  
- [config.py](file://config.py#L1-L400)  
- [bilibili_cover_crawler.py](file://bilibili_cover_crawler.py#L1-L515)  
- [EMERGENCY_GUIDE.md](file://EMERGENCY_GUIDE.md#L1-L143)

## 存储管理建议

视频和封面文件可能占用大量磁盘空间，建议用户定期进行存储管理：
- **定期清理临时文件**：视频下载过程中产生的 `.m4s` 临时文件位于 `temp_videos/` 目录，程序通常会在合并后自动清理，但异常中断可能导致残留，建议手动定期检查并删除。
- **监控磁盘空间**：确保目标存储设备有足够空间，尤其是下载大用户（如1000+视频）时。程序虽会创建输出目录，但不会自动清理旧数据。
- **合理组织文件结构**：下载内容按 `UID_用户名` 分类存储，建议用户建立归档机制，避免文件堆积混乱。

**Section sources**  
- [README.md](file://README.md#L1-L553)  
- [bilibili_cover_crawler_playwright.py](file://bilibili_cover_crawler_playwright.py#L1-L2313)

## 高并发与网络不稳定应对

在高并发或网络不稳定环境下，可能出现以下问题：
- **下载失败**：网络波动可能导致分段下载中断。程序已实现重试机制（`MAX_RETRIES=3`），但仍可能失败。
- **合并失败**：使用 `FFmpeg` 合并音视频时，若临时文件不完整或路径错误，将导致合并失败。
- **页面加载异常**：Playwright模式虽能模拟真实浏览器，但在弱网环境下仍可能出现JS未完全执行、元素未加载等问题。

**应对策略**：
1. 确保网络连接稳定，避免在移动网络或信号差的环境中长时间运行。
2. 下载大任务时建议分批处理，避免一次性请求过多资源。
3. 若使用 `--download-videos` 功能，确保已正确安装 `FFmpeg` 并通过 `check_ffmpeg.py` 验证其可用性。

**Section sources**  
- [bilibili_cover_crawler_playwright.py](file://bilibili_cover_crawler_playwright.py#L1-L2313)  
- [check_ffmpeg.py](file://check_ffmpeg.py#L1-L177)

## 数据备份与日志检查

为保障数据安全，建议用户在执行长时间运行的任务前：
- **备份重要数据**：防止因程序异常、系统崩溃或磁盘故障导致已下载内容丢失。
- **定期检查程序日志**：程序使用 `logging` 模块记录关键操作和错误信息，日志级别可通过 `LOG_LEVEL` 配置。用户可通过日志排查失败原因，如请求被拒、文件写入失败等。
- **查看失败记录文件**：程序会在下载目录生成 `failed_downloads.json` 或 `failed_videos.json`，记录失败的视频信息，便于后续重试或分析。

**Section sources**  
- [config.py](file://config.py#L1-L400)  
- [bilibili_cover_crawler_playwright.py](file://bilibili_cover_crawler_playwright.py#L1-L2313)  
- [bilibili_cover_crawler.py](file://bilibili_cover_crawler.py#L1-L515)

## 隐私与法律责任

**本项目不提供任何数据隐私保证**。所有下载行为均在用户本地执行，项目本身不收集、存储或传输任何用户数据。但用户需自行承担以下责任：
- **合法性**：确保下载内容的用途符合国家法律法规及哔哩哔哩平台协议。
- **安全性**：妥善保管下载的文件，防止敏感信息泄露。
- **风险自担**：因使用本工具引发的IP封禁、版权纠纷等风险，由用户自行承担。

项目基于MIT许可证发布，仅供学习交流，请勿用于非法用途。

**Section sources**  
- [README.md](file://README.md#L1-L553)  
- [config.py](file://config.py#L1-L400)